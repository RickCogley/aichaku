# File Exclusion Rationale

This document explains why each file/directory pattern is excluded from linting and type checking in our `deno.json`
configuration.

## Excluded Patterns

### 1. `docs/projects/**/*.ts`

**Reason**: Development and experimental TypeScript files

- Contains proof-of-concept code and experiments
- Includes incomplete implementations and test scenarios
- Often has intentional type errors for demonstration purposes
- Example: `metadata-consolidation-poc.ts` has untyped error handling

### 2. `scratch/**/*.ts`

**Reason**: Temporary experimentation and testing

- Quick test scripts that aren't production code
- MCP testing and debugging scripts
- Exploratory code that may violate type safety intentionally
- Not meant to be maintained or follow strict standards

### 3. `examples/**/*.ts`

**Reason**: Example and demonstration code

- Simplified examples that may not have full type safety
- Educational code that prioritizes clarity over correctness
- May include intentionally incomplete implementations
- Not part of the distributed package

### 4. `src/commands/*-v2.ts`

**Reason**: Deprecated v2 command files

- Files: `init-v2.ts`, `upgrade-v2.ts`, `migrate-v2.ts`
- Legacy code from previous architecture
- Contains known type errors:
  - Functions with non-void return types that don't return values
  - Type mismatches from old API patterns
- Kept for reference but not actively maintained
- Will be removed in future major version

### 5. `src/utils/config-manager.ts`

**Reason**: Part of deprecated v2 system

- Has type error: `Type 'unknown' is not assignable to type 'AichakuConfig | null'`
- Uses old configuration management approach
- Referenced by v2 commands
- Superseded by new YAML-based configuration system

### 6. `src/utils/migration-helper.ts`

**Reason**: Imports deprecated config-manager

- Depends on the problematic `config-manager.ts`
- Part of the v2 migration system
- Would require fixing config-manager first
- Not used in current v1 command flow

### 7. `docs/api/**/*`

**Reason**: Auto-generated API documentation

- Generated by `deno doc` command
- Contains HTML, CSS, and JavaScript files
- Should never be manually edited or linted
- Regenerated on each documentation build
- Would cause false positives in linting

## Additional Patterns to Consider

### Test Files (Future Consideration)

- `**/*.test.ts`, `**/*_test.ts`
- Currently we check test files, but if they become problematic, we can exclude them
- Test files sometimes need different type constraints

### Other Generated Files (If Applicable)

- Any other auto-generated TypeScript files
- Build artifacts that shouldn't be linted

## Maintenance Notes

- Review this list quarterly to see if excluded files can be removed
- When v2 files are deleted, remove their exclusions
- Document any new exclusions with clear rationale
- Aim to minimize exclusions over time

## Impact on Release Process

By excluding these files from `deno lint` and `deno check`:

1. Nagare release process completes successfully
2. Production code is still fully checked
3. Development velocity isn't hindered by experimental code
4. Technical debt is contained to specific deprecated files

---

*Last updated: 2025-07-16*
